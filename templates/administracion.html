<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursos de Oficios | XYZ</title>
    <link rel="icon" href="{{ url_for('static', filename='images/_123034.ico') }}" type="image/x-icon">
    <script src="https://kit.fontawesome.com/a1b880f44d.js" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
    <script src="https://kit.fontawesome.com/a1b880f44d.js" crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <style>
        body {
            background-color: #007bff; /* Fondo azul */
            color: white; /* Texto blanco para contraste */
        }
        .table th, .table td {
            vertical-align: middle;
        }
        .btn-primary {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }
        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0a58ca;
        }
        .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
        }
        .btn-danger:hover {
            background-color: #c82333;
            border-color: #bd2130;
        }
        .card {
            border: none;
        }
        .card-body {
            padding: 2rem;
            background-color: #f8f9fa; /* Fondo blanco para el contenido de la tarjeta */
            color: black; /* Texto negro dentro de la tarjeta */
        }
        .table th {
            background-color: #343a40;
            color: white;
        }
        .table tbody tr:nth-child(odd) {
            background-color: #f2f2f2;
        }
        .section-title {
            color: #343a40;
            margin-top: 1.5rem;
        }
        .row {
            margin-left: 45px;
            margin-right: 5px;
        }
        input[type="radio"].form-check-input {
            margin-right: 10px; /* Espacio a la derecha de cada radio button */
        }

        .form-check-label {
            margin-left: 10px; /* Espacio a la izquierda de cada etiqueta */
        }
        .form-check {
            padding: 0em 5.5em;
        }
        .radio-borde-negro {
            border: 2px solid black; /* Borde negro de 2px */
        }
        .nav-list .button.border {
            border: none !important;
            text-decoration: none !important;
        }
        .icon-container {
            text-align: center;
            padding: 20px;
        }
        .icon-container i {
            font-size: 50px;
        }
        .icon-container p {
            margin-top: 10px;
            font-size: 18px;
        }
        .icon-container:hover {
            background-color: #007bff;
            color: white;
            cursor: pointer;
        }
        .nav-menu {
            position: absolute;
            top: 15px;
            left: 15px;
        }

        .menus{

        padding: 25px;
         display: block ruby;
        }
        

    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo-container">
                <img class="logo" src="{{ url_for('static', filename='images/logoXYZv2.png') }}" height="90" alt="logoXYZ">
                <label class="logo-txt"> INSTITUTO XYZ</label>
            </div>

        <!-- <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
        <dotlottie-player src="https://lottie.host/22d38f73-cd06-47f3-90e2-5d13339beb7e/bLrRv4fwSp.json" background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
         -->

            <input type="checkbox" id="menu-check">
            <label id="menu-toggle" for="menu-check">
                <span id="menu-abrir">&#9776;</span>
                <span id="menu-cerrar">X</span>
            </label>

            <ul class="nav-list">
                <li><a href="{{ url_for('index') }}" class="button border">Cursos</a></li>
                <li><a href="{{ url_for('contacto') }}" class="button border">Contacto</a></li>
                <li><a href="{{ url_for('administracion') }}" class="button border">Administracion</a></li>
                <li><a href="{{ url_for('faq') }}" class="button border">Preguntas Frecuentes</a></li>

            </ul>
        </nav>
    </header>
    <main>
        <section class="parallax-completo">
            <div class="parallax-overlay">
                <div class="parallax-content">
                    <h2>INSTITUTO XYZ</h2>
                    <br>
                    <p>"Abraza tus errores. Te hacen ser quien eres". Beyoncé</p>
                    <!--<button>Más información</button> -->
                </div>
            </div>
        </section>
    <a name="menu"></a>
    <h1 class="text-center mt-5 mb-5">Panel de Administracion</h1>
    <div class="container mt-5">
        

        <div class="row text-center menus">
            <div class="col-md-3">
                <a href="#alumnos" class="card icon-container">
                    <i class="fas fa-user-graduate"></i>
                    <p>Alumnos</p>
                </a>
            </div>
            <div class="col-md-3">
                <a href="#cursos" class="card icon-container">
                    <i class="fas fa-book"></i>
                    <p>Cursos</p>
                </a>
            </div>
            <div class="col-md-3">
                <a href="#provincias" class="card icon-container">
                    <i class="fas fa-flag"></i>
                    <p>Provincias</p>
                </a>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="card shadow">
            <div class="card-body">

                <!-- Tabla Usuarios -->
                <a name="usuarios"></a>
                <h2 class="section-title">Alumnos</h2>
                <form name="alumnos" action="/alumno" method="POST">
                    <div class="row mb-3">
                        <div class="col">
                            <label>Nombre</label>
                            <input type="text" class="form-control mb-3" name="nombre">
                        </div>
                        <div class="col">
                            <label>Apellido</label>
                            <input type="text" class="form-control mb-3" name="apellido">
                        </div>
                        <div class="col">
                            <label>Dni</label>
                            <input type="text" class="form-control mb-3" name="dni">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <!--<div class="col">
                            <p>Género:</p>
                            <label>Femenino<input name="genero" type="radio" value="Femenino"></label>
                            <label>Masculino<input name="genero" type="radio" value="Masculino"></label>
                        </div>-->
                        <label>Género</label>
                        <div class="d-flex justify-content-center">
                            <div class="form-check">
                              <input type="radio" id="generoFemenino" name="genero" value="Femenino" class="form-check-input radio-borde-negro">
                              <label class="form-check-label" for="generoFemenino">Femenino</label>
                            </div>

                            <div class="form-check">
                              <input type="radio" id="generoMasculino" name="genero" value="Masculino" class="form-check-input radio-borde-negro">
                              <label class="form-check-label" for="generoMasculino">Masculino</label>
                            </div>
                        </div>

                    </div>
                    <div class="row mb-3">

                        <div class="col">
                            <label for="curso">Selecciona una Provincia:</label>
                            <select class="form-control" name="provincia" required>
                            {% for provincia in provincias %}
                            <option value={{ provincia.id }}>{{ provincia.provincia }}</option>
                            {% endfor %}
                            </select>
                        </div>
                        <div class="col">
                            <label for="curso">Selecciona un curso:</label>
                            <select class="form-control" name="curso">
                            {% for curso in cursos %}
                            <option value={{ curso.id }}>{{ curso.nombre}}- {{ curso.turno }}</option>
                            {% endfor %}
                            </select>

                        </div>

                        <div class="col d-flex align-items-end justify-content-center">
                            <button class="btn btn-primary mb-3" type="submit">Guardar</button>
                        </div>
                    </div>
                </form>
                

                <table class="mx-auto table-custom text-center">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Apellido</th>
                            <th scope="col">Dni</th>
                            <th scope="col">Cod. Provincia</th>
                            <th scope="col">Genero</th>
                            <th scope="col">Cod. Curso</th>
                            <th scope="col">Editar</th>
                            <th scope="col">Borrar</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for alumno in alumnos %}
                        <tr>
                            <td>{{ alumno.id }}</td>
                            <td>{{ alumno.Nombre }}</td>
                            <td>{{ alumno.Apellido }}</td>
                            <td>{{ alumno.dni }}</td>
                            <td>{{ alumno.Cod_Provincia }}</td>
                            <td>{{ alumno.Genero }}</td>
                            <td>{{ alumno.Cod_Curso }}</td>
                            <td>
                                <button class="btn btn-primary btn-sm" id="btn-edit{{ alumno.id}}" data-bs-toggle="modal" data-bs-target="#modalUsuario{{ alumno.id }}">
                                    <i class="fa fa-pencil-alt"></i> Editar
                                </button>
                            </td>
                            <td>
                                <a href="{{ url_for('eliminar_alumno', id=alumno.id) }}" class="btn btn-danger btn-sm">
                                    <i class="fa fa-trash"></i> Borrar
                                </a>
                            </td>
                        </tr>

                        <!-- Modal Alumnos -->
                        <div class="modal fade" id="modalUsuario{{ alumno.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="exampleModalLabel">{{ alumno.Nombre }}</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <form action="/editar_alumno/{{ alumno.id}}" method="post">
                                            <label>Nombre</label>
                                            <input type="text" class="form-control mb-3" name="nombre" value="{{ alumno.Nombre }}">
                                            <label>Apellido</label>
                                            <input type="text" class="form-control mb-3" name="apellido" value="{{ alumno.Apellido }}">
                                            <label>DNI</label>
                                            <input type="text" class="form-control mb-3" name="dni" value="{{ alumno.dni }}">
                                            <label>Género</label>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="genero" id="generoF" value="Femenino" {% if alumno.Genero == 'Femenino' %}checked{% endif %}>
                                                <label class="form-check-label" for="generoF">Femenino</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="genero" id="generoM" value="Masculino" {% if alumno.Genero == 'Masculino' %}checked{% endif %}>
                                                <label class="form-check-label" for="generoM">Masculino</label>
                                            </div>

                                            <label>Provincia</label>
                                            <select class="form-control" name="provincia" required>
                                                {% for provincia in provincias %}
                                                 <option value="{{ provincia.id }}" {% if provincia.id == alumno.Cod_Provincia %}selected{% endif %}>{{ provincia.provincia }}</option>
                                                {% endfor %}
                                            </select>
                                             <select class="form-control" name="curso">
                                                {% for curso in cursos %}
                                                <option value="{{ curso.id }}" {% if curso.id == alumno.Cod_Curso %}selected{% endif %}>{{ curso.nombre }} - {{ curso.turno }}</option>
                                                {% endfor %}
                                            </select>

                                    </div>
                                    <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary">Grabar Cambios</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </tbody>
                </table>
                
                <a href="#menu" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Volver al Menú</a>


                <!-- Tabla Cursos -->
                <a name="cursos"></a>
                <h2 class="section-title">Cursos</h2>
                <form name="cursos" action="/curso" method="POST">
                    <div class="row mb-3">
                        <div class="col">
                            <label>Código</label>
                            <input type="text" class="form-control mb-3" name="codigo_curso">
                        </div>
                        <div class="col">
                            <label>Nombre del Curso</label>
                            <input type="text" class="form-control mb-3" name="nombre_curso">
                        </div>
                        <div class="col">
                            <label>Turno del Curso</label>
                            <input type="text" class="form-control mb-3" name="turno_curso">
                        </div>
                        <div class="col d-flex align-items-end justify-content-center">
                            <button class="btn btn-primary mb-3" type="submit">Guardar</button>
                        </div>
                    </div>
                </form>

                <table class="mx-auto table-custom text-center">
                    <thead>
                        <tr>
                            <th scope="col">Código</th>
                            <th scope="col">Nombre del Curso</th>
                            <th scope="col">Turno del curso</th>
                            <th scope="col">Editar</th>
                            <th scope="col">Borrar</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for curso in cursos %}
                        <tr>
                            <td>{{ curso.id }}</td>
                            <td>{{ curso.nombre }}</td>
                            <td>{{ curso.turno}}</td>
                            <td>
                                <button class="btn btn-primary btn-sm" id="btn-editCurso{{ curso.id }}" data-bs-toggle="modal" data-bs-target="#modalCurso{{ curso.id }}">
                                    <i class="fa fa-pencil-alt"></i> Editar
                                </button>
                            </td>
                            <td>
                                <a href="{{ url_for('eliminar_curso', id=curso.id) }}" class="btn btn-danger btn-sm">
                                    <i class="fa fa-trash"></i> Borrar
                                </a>
                            </td>
                        </tr>

                        <!-- Modal Cursos -->
                        <div class="modal fade" id="modalCurso{{ curso.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="exampleModalLabel">{{ curso.nombre }}</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <form action="/editar_curso/{{ curso.id }}" method="post">
                                            <label>Nombre del Curso</label>
                                            <input type="text" class="form-control mb-3" name="nombre" value="{{ curso.nombre }}">
                                            <label>Turno</label>
                                            <input type="text" class="form-control mb-3" name="turno" value="{{ curso.turno }}">
                                        </div>
                                    <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary">Grabar Cambios</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </tbody>
                </table>
                <a href="#menu" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Volver al Menú</a>

                <!-- Tabla Provincias -->
                <a name="provincias"></a>
                <h2 class="section-title">Provincias</h2>
                
                <form  action="/provincia" method="POST">
                    <div class="row mb-3">
                      
                        <div class="col">
                            <label>Nombre de la Provincia</label>
                            <input type="text" class="form-control mb-3" name="nombre_provincia">
                        </div>
                        <div class="col d-flex align-items-end justify-content-center">
                            <button class="btn btn-primary mb-3" type="submit">Guardar</button>
                        </div>
                    </div>
                </form>

                <table class="mx-auto table-custom text-center">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Nombre de la Provincia</th>
                            <th scope="col">Editar</th>
                            <th scope="col">Borrar</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for provincia in provincias %}
                        <tr>
                            <td>{{ provincia.id }}</td>
                            <td>{{ provincia.provincia }}</td>
                            <td>
                                <button class="btn btn-primary btn-sm" id="btn-editProvincia{{ provincia.id }}" data-bs-toggle="modal" data-bs-target="#modalProvincia{{ provincia.id }}">
                                    <i class="fa fa-pencil-alt"></i> Editar
                                </button>
                            </td>
                            <td>
                                <a href="{{ url_for('eliminar_provincia', id=provincia.id) }}" class="btn btn-danger btn-sm">
                                    <i class="fa fa-trash"></i> Borrar
                                </a>
                            </td>
                        </tr>

                        <!-- Modal Provincias -->
                        <div class="modal fade" id="modalProvincia{{ provincia.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="exampleModalLabel">{{ provincia.nombre }}</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <form action="/editar_provincia/{{ provincia.id }}" method="post">
                                            <label>Nombre de la Provincia</label>
                                            <input type="text" class="form-control mb-3" name="nombre" value="{{ provincia.provincia }}">
                                    </div>
                                    <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary">Grabar Cambios</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </tbody>
                </table>
                <a href="#menu" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Volver al Menú</a>

            </div>
        </div>
    </div>
</body>
</html>

